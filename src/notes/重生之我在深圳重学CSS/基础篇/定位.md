---
title: 定位 position
author: 李嘉明
createTime: 2024/04/20 21:19:02
permalink: /defensive-css/mwv313tu/
---

## 定位的概念
:::tip
定位的基本思想很简单，它允许你定义元素框相对于其正常位置应该出现的位置，或者相对于父元素甚至浏览器窗口本身的位置 ,通过使用 position 属性，我们可以选择 4 种不同类型的定位.

position属性是把元素放置到一个静态的、相对的、绝对的、或固定的位置中
position属性的四个值分别对应 `static`、`relative`、`absolute`、`fixed`
:::


::: caution STOP
注意： 单位为 px 或 百分比都可以，left 和 right 同时设置时只有left有效，top 和bottom一起设置时只有top有效

浏览器不会自动计算元素的高度，定位元素的百分比是依赖于父级的宽高的
:::

## 相对定位 relative

特性：

- 其他元素没有受到任何影响
- 自身原来的位置也保留
- 和浮动可以一起使用
- 相对定位并不能构成bfc，所以解决不了父级塌陷

值：

- left:   设置元素 左边缘 到 原来左边缘位置 的距离
- right:   设置元素 右边缘 到 原来右边缘位置 的距离
- top:   设置元素 上边缘 到 原来上边缘位置 的距离
- bottom:   设置元素 下边缘 到 原来下边缘位置 的距离

解释：

- 在相对定位中：left为正 元素向右走
- 在相对定位中：top为正 元素向下走
- 注意：允许负值


## 包含块
:::tip
绝对定位的元素 相对于它的包含块进行定位，如何确定一个元素的包含块，完全取决于它自身的position属性
:::

- 如果一个元素自身的position属性是 `static` 或者是 `relative`：它的包含块就是离他最近的祖先元素或者是格式化上下文。
- 如果一个元素自身的position属性是`absolute`，它的包含块就是离他最近的 拥有定位属性（值不为static）的元素
- 如果一个元素自身的position属性是`fixed`，它的包含块就是viewport（视口）
- 如果一个元素的position属性是`absolute` 或者是 `fixed` 在下边几种情况下，包含块会发生改变
- 当祖先元素的 拥有 `transform` 或 `perspective` 属性 并且值不为none的时候  它也是被当做包含块
- 当祖先元素 拥有 `filter属性的时候（值不为none）  ` 它也可以被当做包含块
- 如果由内向外找不到包含块条件的元素，那么 `html 根元素` 被称作为初始包含块


## 绝对定位 absolute

- 不预留任何的空间（脱离页面流）
- 通过指定当前元素 相对于其包含块偏移的量 来确定当前元素的位置
- 绝对定位以后，浮动失效。margin padding 仍然可以使用


## 固定定位 fixed

- 不为元素预留空间（脱离页面流）
- 相对于视口（viewport）的位置来定位元素的
- 滚动页面滚动条的时候，视口不发生改变，元素位置也不会改变

